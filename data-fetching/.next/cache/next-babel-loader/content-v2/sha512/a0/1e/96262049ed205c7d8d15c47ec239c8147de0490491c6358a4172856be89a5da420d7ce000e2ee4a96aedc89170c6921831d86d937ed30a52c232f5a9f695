{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Projects\\\\learn-nextjs\\\\data-fetching\\\\pages\\\\last-sales.js\";\n// client side data fetching\n// useEffect \n// useSWR\nimport { useEffect, useState } from \"react\";\nimport useSWR from 'swr';\n\nfunction LastSalesPage() {\n  const {\n    0: sales,\n    1: setSales\n  } = useState(); // const [isLoading, setIsLoading] = useState(false);\n\n  const {\n    data,\n    error\n  } = useSWR('https://nextjs-course-4b290-default-rtdb.firebaseio.com/sales.json');\n  useEffect(() => {\n    if (data) {\n      const transformedSales = [];\n\n      for (const key in data) {\n        transformedSales.push({\n          id: key,\n          username: data[key].username,\n          volume: data[key].volume\n        });\n      }\n\n      setSales(transformedSales);\n    }\n  }, [data]); // useEffect(()=>{},[]);\n  // useEffect(()=>{\n  //     setIsLoading(true);\n  //     fetch('https://nextjs-course-4b290-default-rtdb.firebaseio.com/sales.json'\n  //     ).then((response)=>response.json())\n  //     .then(data=>{\n  //         const transformedSales = [];\n  //         for (const key in data){\n  //             transformedSales.push({id:key, \n  //                 username:data[key].username, \n  //                 volume:data[key].volume})\n  //         }\n  //         setSales(transformedSales);\n  //         setIsLoading(false);\n  //     });\n  // }, []);\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"failed to load\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (!data) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (!sales) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: sales.map(sale => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [sale.username, \" - $\", sale.volume]\n    }, sale.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 26\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 12\n  }, this);\n}\n\nexport default LastSalesPage;","map":{"version":3,"sources":["D:/Projects/learn-nextjs/data-fetching/pages/last-sales.js"],"names":["useEffect","useState","useSWR","LastSalesPage","sales","setSales","data","error","transformedSales","key","push","id","username","volume","map","sale"],"mappings":";;AAAA;AACA;AACA;AAEA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,KAAnB;;AAEA,SAASC,aAAT,GAAwB;AACpB,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBJ,QAAQ,EAAlC,CADoB,CAEpB;;AAEA,QAAM;AAACK,IAAAA,IAAD;AAAOC,IAAAA;AAAP,MAAgBL,MAAM,CAAC,oEAAD,CAA5B;AAEAF,EAAAA,SAAS,CAAC,MAAI;AACV,QAAGM,IAAH,EAAQ;AACJ,YAAME,gBAAgB,GAAG,EAAzB;;AACA,WAAK,MAAMC,GAAX,IAAkBH,IAAlB,EAAuB;AACnBE,QAAAA,gBAAgB,CAACE,IAAjB,CAAsB;AAACC,UAAAA,EAAE,EAACF,GAAJ;AAClBG,UAAAA,QAAQ,EAACN,IAAI,CAACG,GAAD,CAAJ,CAAUG,QADD;AAElBC,UAAAA,MAAM,EAACP,IAAI,CAACG,GAAD,CAAJ,CAAUI;AAFC,SAAtB;AAGH;;AAEDR,MAAAA,QAAQ,CAACG,gBAAD,CAAR;AACH;AACJ,GAXQ,EAWN,CAACF,IAAD,CAXM,CAAT,CANoB,CAoBpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,MAAGC,KAAH,EAAS;AACL,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,MAAG,CAACD,IAAJ,EAAS;AACL,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,MAAG,CAACF,KAAJ,EAAU;AACN,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,sBAAO;AAAA,cACFA,KAAK,CAACU,GAAN,CAAUC,IAAI,iBAAE;AAAA,iBAChBA,IAAI,CAACH,QADW,UACGG,IAAI,CAACF,MADR;AAAA,OAAWE,IAAI,CAACJ,EAAhB;AAAA;AAAA;AAAA;AAAA,YAAhB;AADE;AAAA;AAAA;AAAA;AAAA,UAAP;AAIH;;AAED,eAAeR,aAAf","sourcesContent":["// client side data fetching\r\n// useEffect \r\n// useSWR\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport useSWR from 'swr';\r\n\r\nfunction LastSalesPage(){\r\n    const [sales, setSales] = useState();\r\n    // const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const {data, error} = useSWR('https://nextjs-course-4b290-default-rtdb.firebaseio.com/sales.json');\r\n\r\n    useEffect(()=>{\r\n        if(data){\r\n            const transformedSales = [];\r\n            for (const key in data){\r\n                transformedSales.push({id:key, \r\n                    username:data[key].username, \r\n                    volume:data[key].volume})\r\n            }\r\n\r\n            setSales(transformedSales);\r\n        }\r\n    }, [data])\r\n\r\n\r\n    // useEffect(()=>{},[]);\r\n    // useEffect(()=>{\r\n    //     setIsLoading(true);\r\n    //     fetch('https://nextjs-course-4b290-default-rtdb.firebaseio.com/sales.json'\r\n    //     ).then((response)=>response.json())\r\n    //     .then(data=>{\r\n    //         const transformedSales = [];\r\n    //         for (const key in data){\r\n    //             transformedSales.push({id:key, \r\n    //                 username:data[key].username, \r\n    //                 volume:data[key].volume})\r\n    //         }\r\n    //         setSales(transformedSales);\r\n    //         setIsLoading(false);\r\n    //     });\r\n\r\n    // }, []);\r\n\r\n    if(error){\r\n        return <p>failed to load</p>\r\n    }\r\n\r\n    if(!data){\r\n        return <p>Loading...</p>\r\n    }\r\n\r\n    if(!sales){\r\n        return <p>loading...</p>\r\n    }\r\n\r\n    return <ul>\r\n        {sales.map(sale=><li key = {sale.id}>\r\n        {sale.username} - ${sale.volume}</li>)}\r\n    </ul>\r\n}\r\n\r\nexport default LastSalesPage;"]},"metadata":{},"sourceType":"module"}